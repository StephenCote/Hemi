<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>API Hemi.transaction Hemi JavaScript Framework</title>
<link rel="stylesheet" href="ApiStyles.css" type="text/css">
</head>
<body>
<h1>Hemi JavaScript Framework</h1>
<h2>Hemi.transaction</h2>
<ul class="top-nav">
<li>
<a href="/Hemi/">Hemi JavaScript Framework Project</a>
</li>
<li>
<a href="Hemi_api.html">API Index</a>
</li>
</ul>
<h3>Description</h3>
<p>The Transaction Service provides an object-level communication bus. Unlike events, delegates, and message subscriptions and publications, the transaction service coordinates disimilar objects on a common band.  Non Framework Objects may be decorated with the Transaction Participant API, and allow cross-Framework coordination.</p>
<a name="classindex"> </a>
<h3>Class Index</h3>
<ul class="index">
<li>
<a href="#service"><i>static </i>Hemi.transaction.service</a>: Static instance of the serviceImpl class.</li>
<li>
<a href="#serviceImpl">Hemi.transaction.serviceImpl</a>: A class for managing communication between objects implementing the TransactionParticipant API, and using TransactionPacket objects.</li>
<li>
<a href="#transaction"><i>static </i>Hemi.transaction.transaction</a>: Static instance of the serviceImpl class.</li>
<li>
<a href="#TransactionPacket">Hemi.transaction.TransactionPacket</a>: This is an abstract class generated by the TransactionService. It has no public initializer or constructor.</li>
<li>
<a href="#TransactionParticipant"><i>static </i>Hemi.transaction.TransactionParticipant</a>: This static class describes the interface an object must expose to participate in the TransactionService.  A participant must be registered with the ObjectRegistry.  The addServiceAPI method may be used to instrument this API for quick access to the service.</li>
</ul>
<a name="service"> </a>
<h3 class="membertitle">
<i>static </i>Hemi.transaction.service</h3>
<h4>version 3.5.1</h4>
<p class="desc">Static instance of the serviceImpl class.</p>
<p class="desc"></p>
<a name="TransactionParticipant"> </a>
<h3 class="membertitle">
<i>static </i>Hemi.transaction.TransactionParticipant</h3>
<h4>version 3.5.1</h4>
<p class="desc">This static class describes the interface an object must expose to participate in the TransactionService.  A participant must be registered with the ObjectRegistry.  The addServiceAPI method may be used to instrument this API for quick access to the service.</p>
<p class="desc"></p>
<h3>Index</h3>
<a name="TransactionParticipantmethodindex"> </a>
<h4>Method Index</h4>
<ul class="index">
<li>public <a href="#doTransaction">doTransaction</a>: Processes the served transaction packet.</li>
<li>public <a href="#endTransaction">endTransaction</a>: Ends the transaction for the specified packet.</li>
<li>public <a href="#startTransaction">startTransaction</a>: Starts the transaction for the specified packet.</li>
</ul>
<h3>Methods</h3>
<a name="doTransaction"></a>
<h3 class="membertitle">doTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionParticipant">TransactionParticipant</a>
</li>
<li>
<a href="#TransactionParticipantmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Processes the served transaction packet.</p>
<h4>Syntax</h4>
<p class="methodsyntax">z = doTransaction(
s, p
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>s</b> as TransactionService : The TransactionService object handling this transaction.</li>
<li>
<b>p</b> as TransactionPacket : The packet being served.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>z</b> as boolean: Always returns false.</p>
<a name="endTransaction"></a>
<h3 class="membertitle">endTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionParticipant">TransactionParticipant</a>
</li>
<li>
<a href="#TransactionParticipantmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Ends the transaction for the specified packet.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void endTransaction(
s, p
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>s</b> as TransactionService : The TransactionService object handling this transaction.</li>
<li>
<b>p</b> as TransactionPacket : The packet for this transaction.</li>
</ul>
<a name="startTransaction"></a>
<h3 class="membertitle">startTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionParticipant">TransactionParticipant</a>
</li>
<li>
<a href="#TransactionParticipantmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Starts the transaction for the specified packet.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void startTransaction(
s, p
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>s</b> as TransactionService : The TransactionService object handling this transaction.</li>
<li>
<b>p</b> as TransactionPacket : The packet for this transaction.</li>
</ul>
<a name="TransactionPacket"> </a>
<h3 class="membertitle">Hemi.transaction.TransactionPacket</h3>
<h4>version 3.5.1</h4>
<p class="desc">This is an abstract class generated by the TransactionService. It has no public initializer or constructor.</p>
<p class="desc"></p>
<h3>Index</h3>
<a name="TransactionPacketpropertyindex"> </a>
<h4>Property Index</h4>
<ul class="index">
<li>public <a href="#data">data</a>: The packet data.</li>
<li>public <a href="#errors">errors</a>: Variable use property.</li>
<li>public <a href="#is_finalized">is_finalized</a>: Bit indicating whether the packet has been finalized.</li>
<li>public <a href="#is_open">is_open</a>: Bit indicating whether the packet is open.</li>
<li>public <a href="#owner_id">owner_id</a>: Identifier of the registered object that owns the packet.</li>
<li>public <a href="#packet_id">packet_id</a>: The unique identifer of the packet.</li>
<li>public <a href="#packet_name">packet_name</a>: The name of the packet.</li>
<li>public <a href="#packet_state">packet_state</a>: Variable use property.</li>
<li>public <a href="#participant_count">participant_count</a>: Number of participants currently using this packet.</li>
<li>public <a href="#participants">participants</a>: Hash of object identifiers that are participating in the transaction for this packet. The hash key is the object identifier, and the hash value is the participant state.  State values are: 0 = not participating / transaction ended, 1 = participating, 2 = participated and completed with a positive (true) response.</li>
<li>public <a href="#serve_type">serve_type</a>: The type of service this packet will receive.  1 indicates the packet will be served untill all participants return true from doTransaction.  2 indicates the packet is only served once.</li>
<li>public <a href="#service_id">service_id</a>: The unique identifier of the service to which this packet belongs.</li>
</ul>
<a name="TransactionPacketmethodindex"> </a>
<h4>Method Index</h4>
<ul class="index">
<li>public <a href="#setBlockEndTransaction">setBlockEndTransaction</a>: Specifies whether the packet should be served during endTransaction.</li>
<li>public <a href="#setBlockServeTransaction">setBlockServeTransaction</a>: Specifies whether the packet should be served during serveTransaction.</li>
<li>public <a href="#setBlockStartTransaction">setBlockStartTransaction</a>: Specifies whether the packet should be served during startTransaction.</li>
<li>public <a href="#setServeType">setServeType</a>: Sets the packet serve type.</li>
</ul>
<h3>Properties</h3>
<a name="data"></a>
<h3 class="membertitle">data</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketpropertyindex">Properties</a>
</li>
</ul>
<p class="propertydesc">The packet data.</p>
<h4>Syntax</h4>
<p class="propertysyntax">variant = <i>object</i>.data</p>
<p class="propertysyntax">
<i>object</i>.data = variant</p>
<a name="errors"></a>
<h3 class="membertitle">errors</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketpropertyindex">Properties</a>
</li>
</ul>
<p class="propertydesc">Variable use property.</p>
<h4>Syntax</h4>
<p class="propertysyntax">int = <i>object</i>.errors</p>
<p class="propertysyntax">
<i>object</i>.errors = int</p>
<a name="is_finalized"></a>
<h3 class="membertitle">is_finalized</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketpropertyindex">Properties</a>
</li>
</ul>
<p class="propertydesc">Bit indicating whether the packet has been finalized.</p>
<h4>Syntax</h4>
<p class="propertysyntax">boolean = <i>object</i>.is_finalized</p>
<a name="is_open"></a>
<h3 class="membertitle">is_open</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketpropertyindex">Properties</a>
</li>
</ul>
<p class="propertydesc">Bit indicating whether the packet is open.</p>
<h4>Syntax</h4>
<p class="propertysyntax">boolean = <i>object</i>.is_open</p>
<a name="owner_id"></a>
<h3 class="membertitle">owner_id</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketpropertyindex">Properties</a>
</li>
</ul>
<p class="propertydesc">Identifier of the registered object that owns the packet.</p>
<h4>Syntax</h4>
<p class="propertysyntax">String = <i>object</i>.owner_id</p>
<a name="packet_id"></a>
<h3 class="membertitle">packet_id</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketpropertyindex">Properties</a>
</li>
</ul>
<p class="propertydesc">The unique identifer of the packet.</p>
<h4>Syntax</h4>
<p class="propertysyntax">String = <i>object</i>.packet_id</p>
<a name="packet_name"></a>
<h3 class="membertitle">packet_name</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketpropertyindex">Properties</a>
</li>
</ul>
<p class="propertydesc">The name of the packet.</p>
<h4>Syntax</h4>
<p class="propertysyntax">String = <i>object</i>.packet_name</p>
<a name="packet_state"></a>
<h3 class="membertitle">packet_state</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketpropertyindex">Properties</a>
</li>
</ul>
<p class="propertydesc">Variable use property.</p>
<h4>Syntax</h4>
<p class="propertysyntax">int = <i>object</i>.packet_state</p>
<p class="propertysyntax">
<i>object</i>.packet_state = int</p>
<a name="participant_count"></a>
<h3 class="membertitle">participant_count</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketpropertyindex">Properties</a>
</li>
</ul>
<p class="propertydesc">Number of participants currently using this packet.</p>
<h4>Syntax</h4>
<p class="propertysyntax">int = <i>object</i>.participant_count</p>
<a name="participants"></a>
<h3 class="membertitle">participants</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketpropertyindex">Properties</a>
</li>
</ul>
<p class="propertydesc">Hash of object identifiers that are participating in the transaction for this packet. The hash key is the object identifier, and the hash value is the participant state.  State values are: 0 = not participating / transaction ended, 1 = participating, 2 = participated and completed with a positive (true) response.</p>
<h4>Syntax</h4>
<p class="propertysyntax">hash = <i>object</i>.participants</p>
<a name="serve_type"></a>
<h3 class="membertitle">serve_type</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketpropertyindex">Properties</a>
</li>
</ul>
<p class="propertydesc">The type of service this packet will receive.  1 indicates the packet will be served untill all participants return true from doTransaction.  2 indicates the packet is only served once.</p>
<h4>Syntax</h4>
<p class="propertysyntax">int = <i>object</i>.serve_type</p>
<a name="service_id"></a>
<h3 class="membertitle">service_id</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketpropertyindex">Properties</a>
</li>
</ul>
<p class="propertydesc">The unique identifier of the service to which this packet belongs.</p>
<h4>Syntax</h4>
<p class="propertysyntax">String = <i>object</i>.service_id</p>
<h3>Methods</h3>
<a name="setBlockEndTransaction"></a>
<h3 class="membertitle">setBlockEndTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Specifies whether the packet should be served during endTransaction.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void setBlockEndTransaction(
b
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>b</b> as boolean : Bit indicating whether the packet is blocked from being served during </li>
</ul>
<a name="setBlockServeTransaction"></a>
<h3 class="membertitle">setBlockServeTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Specifies whether the packet should be served during serveTransaction.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void setBlockServeTransaction(
b
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>b</b> as boolean : Bit indicating whether the packet is blocked from being served during </li>
</ul>
<a name="setBlockStartTransaction"></a>
<h3 class="membertitle">setBlockStartTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Specifies whether the packet should be served during startTransaction.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void setBlockStartTransaction(
b
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>b</b> as boolean : Bit indicating whether the packet is blocked from being served during </li>
</ul>
<a name="setServeType"></a>
<h3 class="membertitle">setServeType</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#TransactionPacket">TransactionPacket</a>
</li>
<li>
<a href="#TransactionPacketmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Sets the packet serve type.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void setServeType(
i
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>i</b> as int : The type of service this packet will receive.  1 indicates the packet will be served untill all participants return true from </li>
</ul>
<a name="transaction"> </a>
<h3 class="membertitle">
<i>static </i>Hemi.transaction.transaction</h3>
<h4>version 3.5.1</h4>
<p class="desc">Static instance of the serviceImpl class.</p>
<p class="desc"></p>
<h3>Index</h3>
<a name="transactionmethodindex"> </a>
<h4>Method Index</h4>
<ul class="index">
<li>virtual <a href="#_handle_begin_transaction">_handle_begin_transaction</a>: Invoked when the transaction for the specified packet begins.</li>
<li>virtual <a href="#_handle_end_transaction">_handle_end_transaction</a>: Invoked when the transaction for the specified packet ends.</li>
<li>virtual <a href="#_handle_packettype">_handle_packettype</a>: Processes the served transaction packet for the specified type. IE if a packet has the type 'custompacket', then you can define a method named _handle_custompacket</li>
<li>virtual <a href="#_handle_transaction">_handle_transaction</a>: Processes the served transaction packet.</li>
<li>public <a href="#addServiceAPI">addServiceAPI</a>: Injects the required API for working with transactions onto the target object.</li>
<li>virtual <a href="#doTransaction">doTransaction</a>: Processes the served transaction packet.  Automatically invokes _handle_transaction, if it was defined.  Also will invoke _handle_packettype if defined.  IE if a packet has the type 'custompacket', then you can define a method named _handle_custompacket</li>
<li>virtual <a href="#endTransaction">endTransaction</a>: Ends the transaction for the specified packet. Automatically invokes _handle_end_transaction if defined.</li>
<li>virtual <a href="#getPacket">getPacket</a>: Returns the transaction packet associated with this component.</li>
<li>virtual <a href="#joinTranactionPacket">joinTranactionPacket</a>: Joins the object to the packet, and returns the packet identifier.</li>
<li>virtual <a href="#removeFromTransactionPacket">removeFromTransactionPacket</a>: Removes the object from the packet.</li>
<li>virtual <a href="#serveTransaction">serveTransaction</a>: Serves the transaction packet to transaction participants.</li>
<li>virtual <a href="#startTransaction">startTransaction</a>: Starts the transaction for the specified packet. Automatically invokes _handle_begin_transaction if defined.</li>
</ul>
<h3>Methods</h3>
<a name="_handle_begin_transaction"></a>
<h3 class="membertitle">_handle_begin_transaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#transaction">transaction</a>
</li>
<li>
<a href="#transactionmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Invoked when the transaction for the specified packet begins. Method is virtual and can be overridden.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void _handle_begin_transaction(
s, p
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>s</b> as TransactionService : The TransactionService object handling this transaction.</li>
<li>
<b>p</b> as TransactionPacket : The packet being served.</li>
</ul>
<a name="_handle_end_transaction"></a>
<h3 class="membertitle">_handle_end_transaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#transaction">transaction</a>
</li>
<li>
<a href="#transactionmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Invoked when the transaction for the specified packet ends. Method is virtual and can be overridden.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void _handle_end_transaction(
s, p
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>s</b> as TransactionService : The TransactionService object handling this transaction.</li>
<li>
<b>p</b> as TransactionPacket : The packet being served.</li>
</ul>
<a name="_handle_packettype"></a>
<h3 class="membertitle">_handle_packettype</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#transaction">transaction</a>
</li>
<li>
<a href="#transactionmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Processes the served transaction packet for the specified type. IE if a packet has the type 'custompacket', then you can define a method named _handle_custompacket Method is virtual and can be overridden.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void _handle_packettype(
s, p
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>s</b> as TransactionService : The TransactionService object handling this transaction.</li>
<li>
<b>p</b> as TransactionPacket : The packet being served.</li>
</ul>
<a name="_handle_transaction"></a>
<h3 class="membertitle">_handle_transaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#transaction">transaction</a>
</li>
<li>
<a href="#transactionmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Processes the served transaction packet. Method is virtual and can be overridden.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void _handle_transaction(
s, p
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>s</b> as TransactionService : The TransactionService object handling this transaction.</li>
<li>
<b>p</b> as TransactionPacket : The packet being served.</li>
</ul>
<a name="addServiceAPI"></a>
<h3 class="membertitle">addServiceAPI</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#transaction">transaction</a>
</li>
<li>
<a href="#transactionmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Injects the required API for working with transactions onto the target object.</p>
<h4>Syntax</h4>
<p class="methodsyntax">b = addServiceAPI(
o
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>o</b> as Object : Object onto which to inject helper methods for working with transactions.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>b</b> as boolean: Bit indicating whether the service API was injected where otherwise not defined.</p>
<a name="doTransaction"></a>
<h3 class="membertitle">doTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#transaction">transaction</a>
</li>
<li>
<a href="#transactionmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Processes the served transaction packet.  Automatically invokes _handle_transaction, if it was defined.  Also will invoke _handle_packettype if defined.  IE if a packet has the type 'custompacket', then you can define a method named _handle_custompacket Method is virtual and can be overridden.</p>
<h4>Syntax</h4>
<p class="methodsyntax">z = doTransaction(
s, p
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>s</b> as TransactionService : The TransactionService object handling this transaction.</li>
<li>
<b>p</b> as TransactionPacket : The packet being served.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>z</b> as boolean: Always returns false.</p>
<a name="endTransaction"></a>
<h3 class="membertitle">endTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#transaction">transaction</a>
</li>
<li>
<a href="#transactionmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Ends the transaction for the specified packet. Automatically invokes _handle_end_transaction if defined. Method is virtual and can be overridden.</p>
<h4>Syntax</h4>
<p class="methodsyntax">z = endTransaction(
s, p
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>s</b> as TransactionService : The TransactionService object handling this transaction.</li>
<li>
<b>p</b> as TransactionPacket : The packet for this transaction.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>z</b> as boolean: Always returns true.</p>
<a name="getPacket"></a>
<h3 class="membertitle">getPacket</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#transaction">transaction</a>
</li>
<li>
<a href="#transactionmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Returns the transaction packet associated with this component. Method is virtual and can be overridden.</p>
<h4>Syntax</h4>
<p class="methodsyntax">p = getPacket(

)
</p>
<h4>Returns</h4>
<p class="returnvalue">
<b>p</b> as TransactionPacket: TransactionPacket object.</p>
<a name="joinTranactionPacket"></a>
<h3 class="membertitle">joinTranactionPacket</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#transaction">transaction</a>
</li>
<li>
<a href="#transactionmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Joins the object to the packet, and returns the packet identifier. Method is virtual and can be overridden.</p>
<h4>Syntax</h4>
<p class="methodsyntax">sPacketId = joinTranactionPacket(
s
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>s</b> as String : The packet name.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>sPacketId</b> as String: The transaction packet identifier.</p>
<a name="removeFromTransactionPacket"></a>
<h3 class="membertitle">removeFromTransactionPacket</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#transaction">transaction</a>
</li>
<li>
<a href="#transactionmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Removes the object from the packet. Method is virtual and can be overridden.</p>
<h4>Syntax</h4>
<p class="methodsyntax">sPacketId = removeFromTransactionPacket(
s
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>s</b> as String : The packet name.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>sPacketId</b> as String: The transaction packet identifier.</p>
<a name="serveTransaction"></a>
<h3 class="membertitle">serveTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#transaction">transaction</a>
</li>
<li>
<a href="#transactionmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Serves the transaction packet to transaction participants. Method is virtual and can be overridden.</p>
<h4>Syntax</h4>
<p class="methodsyntax">z = serveTransaction(
t, s, b, n
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>t</b> as variant : Variant value used to identify the type of the packet.</li>
<li>
<b>s</b> as variant : Variant value used to identify the source of the packet.</li>
<li>
<b>b</b> as boolean : Bit indicating whether the packet should be served to the owner.</li>
<li>
<b>n</b> as String : Packet name.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>z</b> as boolean: Returns true if a packet exists and was served, false otherwise.</p>
<a name="startTransaction"></a>
<h3 class="membertitle">startTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#transaction">transaction</a>
</li>
<li>
<a href="#transactionmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Starts the transaction for the specified packet. Automatically invokes _handle_begin_transaction if defined. Method is virtual and can be overridden.</p>
<h4>Syntax</h4>
<p class="methodsyntax">z = startTransaction(
s, p
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>s</b> as TransactionService : The TransactionService object handling this transaction.</li>
<li>
<b>p</b> as TransactionPacket : The packet for this transaction.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>z</b> as boolean: Always returns true.</p>
<a name="serviceImpl"> </a>
<h3 class="membertitle">Hemi.transaction.serviceImpl</h3>
<h4>version 3.5.1</h4>
<p class="desc">A class for managing communication between objects implementing the TransactionParticipant API, and using TransactionPacket objects.</p>
<p class="desc"></p>
<h3>Index</h3>
<a name="serviceImplmethodindex"> </a>
<h4>Method Index</h4>
<ul class="index">
<li>public <a href="#addTransactionParticipant">addTransactionParticipant</a>: Adds an object to participate with the specified TransactionPacket.</li>
<li>public <a href="#canRegister">canRegister</a>: Tests an object to determine if it can be registered.</li>
<li>public <a href="#closeTransaction">closeTransaction</a>: Closes the transaction represented by the specified TransactionPacket.</li>
<li>public <a href="#getPacket">getPacket</a>: Returns the specified TransactionPacket object.</li>
<li>public <a href="#getPacketByName">getPacketByName</a>: Returns the specified TransactionPacket object.</li>
<li>public <a href="#getPackets">getPackets</a>: Returns an array of TransactionPacket objects.</li>
<li>public <a href="#getRegisteredObjects">getRegisteredObjects</a>: Returns an array of object identifiers that are registered with the TransactionService.</li>
<li>public <a href="#getRegisteredObjectsMap">getRegisteredObjectsMap</a>: Returns a hashmap of object identifiers and the index into the registered objects array.</li>
<li>public <a href="#isPacket">isPacket</a>: Returns true if the specified name exists.</li>
<li>public <a href="#isRegistered">isRegistered</a>: Returns whether an object is registered..</li>
<li>public <a href="#newTransactionPacket">newTransactionPacket</a> (<b>internal</b>): Creates a new TransactionPacket.</li>
<li>public <a href="#openTransaction">openTransaction</a>: Opens a new transaction and returns the TransactionPacket identifier.</li>
<li>public <a href="#register">register</a>: Registers an object with the transaction service.</li>
<li>public <a href="#removeTransactionParticipant">removeTransactionParticipant</a>: Removes an object from participating with the specified TransactionPacket.</li>
<li>public <a href="#removeTransactionParticipants">removeTransactionParticipants</a>: Removes object from all transaction participations.</li>
<li>public <a href="#serveTransaction">serveTransaction</a>: Serves the specified TransactionPacket to its participants.</li>
<li>public <a href="#sigterm">sigterm</a>: Sends a termination signal to the service, and closes all open packets.</li>
<li>public <a href="#unregister">unregister</a>: Unregisters an object with the transaction service.</li>
</ul>
<h3>Methods</h3>
<a name="addTransactionParticipant"></a>
<h3 class="membertitle">addTransactionParticipant</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Adds an object to participate with the specified TransactionPacket.</p>
<h4>Syntax</h4>
<p class="methodsyntax">b = addTransactionParticipant(
o, p
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>o</b> as TransactionParticipant : Object that is registered with the TransactionService.</li>
<li>
<b>p</b> as TransactionPacket : TransactionPacket with which the specified object should participate.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>b</b> as boolean: True if the object is participating with the packet, otherwise false.</p>
<a name="canRegister"></a>
<h3 class="membertitle">canRegister</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Tests an object to determine if it can be registered.</p>
<h4>Syntax</h4>
<p class="methodsyntax">b = canRegister(
o
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>o</b> as object : Object to test whether or not it can be registered.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>b</b> as boolean: True if the object can be registered, otherwise false.</p>
<a name="closeTransaction"></a>
<h3 class="membertitle">closeTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Closes the transaction represented by the specified TransactionPacket.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void closeTransaction(
i
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>i</b> as String : Name of the TransactionPacket.</li>
</ul>
<a name="getPacket"></a>
<h3 class="membertitle">getPacket</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Returns the specified TransactionPacket object.</p>
<h4>Syntax</h4>
<p class="methodsyntax">e = getPacket(
i
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>i</b> as int : Index of the TransactionPacket object..</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>e</b> as TransactionPacket: XHTMLForm object.</p>
<a name="getPacketByName"></a>
<h3 class="membertitle">getPacketByName</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Returns the specified TransactionPacket object.</p>
<h4>Syntax</h4>
<p class="methodsyntax">e = getPacketByName(
n
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>n</b> as String : Name of the element.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>e</b> as TransactionPacket: TransactionPacket object.</p>
<a name="getPackets"></a>
<h3 class="membertitle">getPackets</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Returns an array of TransactionPacket objects.</p>
<h4>Syntax</h4>
<p class="methodsyntax">a = getPackets(

)
</p>
<h4>Returns</h4>
<p class="returnvalue">
<b>a</b> as array: Array of TransactionPacket objects.</p>
<a name="getRegisteredObjects"></a>
<h3 class="membertitle">getRegisteredObjects</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Returns an array of object identifiers that are registered with the TransactionService.</p>
<h4>Syntax</h4>
<p class="methodsyntax">a = getRegisteredObjects(

)
</p>
<h4>Returns</h4>
<p class="returnvalue">
<b>a</b> as array: Array of object identifiers</p>
<a name="getRegisteredObjectsMap"></a>
<h3 class="membertitle">getRegisteredObjectsMap</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Returns a hashmap of object identifiers and the index into the registered objects array.</p>
<h4>Syntax</h4>
<p class="methodsyntax">a = getRegisteredObjectsMap(

)
</p>
<h4>Returns</h4>
<p class="returnvalue">
<b>a</b> as array: Hashmap of object identifiers</p>
<a name="isPacket"></a>
<h3 class="membertitle">isPacket</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Returns true if the specified name exists.</p>
<h4>Syntax</h4>
<p class="methodsyntax">b = isPacket(
i
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>i</b> as variant : Name or index of the TransactionPacket object..</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>b</b> as boolean: Bit indicating whether the specified object name exists.</p>
<a name="isRegistered"></a>
<h3 class="membertitle">isRegistered</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Returns whether an object is registered..</p>
<h4>Syntax</h4>
<p class="methodsyntax">b = isRegistered(
o
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>o</b> as object : Object to test whether or not it is registered.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>b</b> as boolean: True if the object is registered, otherwise false.</p>
<a name="newTransactionPacket"></a>
<h3 class="membertitle">newTransactionPacket</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Creates a new TransactionPacket.</p>
<h4>Syntax</h4>
<p class="methodsyntax">p = newTransactionPacket(
i, n, o, v, f
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>i</b> as String : Packet identifier.</li>
<li>
<b>n</b> as String : Packet name.</li>
<li>
<b>o</b> as String : Owner id.</li>
<li>
<b>v</b> as object : Variant data.</li>
<li>
<b>f</b> as function : Packet finalization handler.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>p</b> as TransactionPacket: A new TransactionPacket.</p>
<a name="openTransaction"></a>
<h3 class="membertitle">openTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Opens a new transaction and returns the TransactionPacket identifier.</p>
<h4>Syntax</h4>
<p class="methodsyntax">i = openTransaction(
n, <i>p</i>, <i>d</i>, <i>f</i>
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>n</b> as String : Name of the transaction.</li>
<li>
<b>p</b> as TransactionParticipant <i>(optional)</i>: Parent object.</li>
<li>
<b>d</b> as variant <i>(optional)</i>: Data associated with the transaction.</li>
<li>
<b>f</b> as function <i>(optional)</i>: Function to invoke when transaction completes and the TransactionPacket is finalized.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>i</b> as String: Identifier of the new TransactionPacket.</p>
<a name="register"></a>
<h3 class="membertitle">register</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Registers an object with the transaction service.</p>
<h4>Syntax</h4>
<p class="methodsyntax">b = register(
o, <i>b</i>
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>o</b> as object : Object to register with the TransactionService.</li>
<li>
<b>b</b> as boolean <i>(optional)</i>: Bit indicating the object should be instrumented with the transaction API.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>b</b> as boolean: True if the object was registered, otherwise false.</p>
<a name="removeTransactionParticipant"></a>
<h3 class="membertitle">removeTransactionParticipant</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Removes an object from participating with the specified TransactionPacket.</p>
<h4>Syntax</h4>
<p class="methodsyntax">b = removeTransactionParticipant(
o, p
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>o</b> as TransactionParticipant : Object that is registered with the TransactionService.</li>
<li>
<b>p</b> as TransactionPacket : TransactionPacket with which the specified object is participating.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>b</b> as boolean: True if the object was removed from participating with the packet, otherwise false.</p>
<a name="removeTransactionParticipants"></a>
<h3 class="membertitle">removeTransactionParticipants</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Removes object from all transaction participations.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void removeTransactionParticipants(
o
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>o</b> as TransactionParticipant : Object that is registered with the TransactionService.</li>
</ul>
<a name="serveTransaction"></a>
<h3 class="membertitle">serveTransaction</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Serves the specified TransactionPacket to its participants.</p>
<h4>Syntax</h4>
<p class="methodsyntax">b = serveTransaction(
p, <i>i</i>, <i>b</i>
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>p</b> as TransactionPacket : TransactionPacket with which the specified object is participating.</li>
<li>
<b>i</b> as String <i>(optional)</i>: Identifier of the object that should act as the controller of the packet.  Defaults to the packet owner.</li>
<li>
<b>b</b> as boolean <i>(optional)</i>: Skip serving the packet to the controller.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>b</b> as boolean: True if the packet was served, otherwise false.</p>
<a name="sigterm"></a>
<h3 class="membertitle">sigterm</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Sends a termination signal to the service, and closes all open packets.</p>
<h4>Syntax</h4>
<p class="methodsyntax">void sigterm(

)
</p>
<a name="unregister"></a>
<h3 class="membertitle">unregister</h3>
<ul class="nav">
<li>
<a href="#">Top</a>
</li>
<li>
<a href="#classindex">Class Index</a>
</li>
<li>
<a href="#serviceImpl">serviceImpl</a>
</li>
<li>
<a href="#serviceImplmethodindex">Methods</a>
</li>
</ul>
<p class="methoddesc">Unregisters an object with the transaction service.</p>
<h4>Syntax</h4>
<p class="methodsyntax">b = unregister(
o
)
</p>
<h4>Parameters</h4>
<ul class="methodparams">
<li>
<b>o</b> as object : Object to register with the TransactionService.</li>
</ul>
<h4>Returns</h4>
<p class="returnvalue">
<b>b</b> as boolean: True if the object was unregistered, otherwise false.</p>
<p class="copyright">[ Hemi JavaScript Framework - Stephen W. Cote, 2002 - 2013. ]</p>
</body>
</html>
